!function(){"use strict";var t,e={};t="undefined"!=typeof module?module.exports=e:function(){return this||(1,eval)("this")}(),t.xblocks=e,function(t){t.dom={},t.dom.attrs={},t.dom.attrs.ARRTS_BOOLEAN=["checked","selected","disabled","readonly","multiple","ismap","defer"],t.dom.attrs.getRealValue=function(e,o){return"true"===o||"false"===o||-1!==t.dom.attrs.ARRTS_BOOLEAN.indexOf(e)&&e===o?e===o||"true"===o:o},t.dom.attrs.toObject=function(e){if(1!==e.nodeType)return{};var o={};return Array.prototype.forEach.call(e.attributes,function(e){o[e.nodeName]=t.dom.attrs.getRealValue(e.nodeName,e.value)}),o}}(e),function(t,e){t.view={},t.view.register=function(t,o){e.DOM[t]=o},t.view.get=function(t){return e.DOM[t]}}(e,React),function(t,e){e.create=function(o,n){return n="object"==typeof n?n:{},n.lifecycle={created:function(){this.xblock=e.element.create(this)},inserted:function(){},removed:function(){this.xblock.destroy(),delete this.xblock},attributeChanged:function(t,o,n){var r={};r[t]=e.dom.attrs.getRealValue(t,n),this.xblock.update(r)}},t.register(o,n)}}(xtag,e),function(t,e,o){function n(t){this._node=t,this._component=null;var n,r=t.tagName.toLowerCase(),i=function(){this._component=o.renderComponent(e.view.get(r)(this._getNodeProps()),this._node,this._observerBind.bind(this))}.bind(this);this._observer=new MutationObserver(function(t){t.some(this._checkParentMutation,this)&&this._isMountedComponent()&&(this.destroy(),clearTimeout(n),n=setTimeout(i,1))}.bind(this)),i()}e.element={},e.element.create=function(t){return new n(t)},n.prototype._node=null,n.prototype._component=null,n.prototype._observer=null,n.prototype.destroy=function(){if(this._observer.disconnect(),this._isMountedComponent())try{o.unmountComponentAtNode(this._node),this._component.unmountComponent(),this._component=null}catch(t){}},n.prototype.update=function(t){if(this._isMountedComponent()){t="object"==typeof t?t:{};var e=this._getNodeProps();Object.keys(t).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}),this._component.setProps(e)}},n.prototype._getNodeProps=function(){return e.dom.attrs.toObject(this._node)},n.prototype._isMountedComponent=function(){return this._component&&this._component.isMounted()},n.prototype._checkParentMutation=function(t){return"childList"===t.type&&t.target===this._node},n.prototype._observerBind=function(){this._observer.disconnect(),this._observer.observe(this._node,{childList:!0,characterData:!0,subtree:!0})}}(xtag,e,React)}();