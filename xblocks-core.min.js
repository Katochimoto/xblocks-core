!function(t,e){"use strict";function n(t){return d[m]=r.apply(e,t),m++}function r(t){var n=[].slice.call(arguments,1);return function(){"function"==typeof t?t.apply(e,n):new Function(""+t)()}}function i(t){if(h)setTimeout(r(i,t),0);else{var e=d[t];if(e){h=!0;try{e()}finally{o(t),h=!1}}}}function o(t){delete d[t]}function s(){f=function(){var t=n(arguments);return process.nextTick(r(i,t)),t}}function u(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function a(){var e="setImmediate$"+Math.random()+"$",r=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&i(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),f=function(){var r=n(arguments);return t.postMessage(e+r,"*"),r}}function c(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;i(e)},f=function(){var e=n(arguments);return t.port2.postMessage(e),e}}function l(){var t=y.documentElement;f=function(){var e=n(arguments),r=y.createElement("script");return r.onreadystatechange=function(){i(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r),e}}function p(){f=function(){var t=n(arguments);return setTimeout(r(i,t),0),t}}if(!t.setImmediate){var f,m=1,d={},h=!1,y=t.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(t);v=v&&v.setTimeout?v:t,"[object process]"==={}.toString.call(t.process)?s():u()?a():t.MessageChannel?c():y&&"onreadystatechange"in y.createElement("script")?l():p(),v.setImmediate=f,v.clearImmediate=o}}(new Function("return this")()),function(t,e){"use strict";var n=t.React,r=t.xblocks={};r.utils={},r.utils.REG_TYPE_EXTRACT=/\s([a-zA-Z]+)/,r.utils.REG_PRISTINE=/^[\$_a-z][\$\w]*$/i,r.utils.support={},r.utils.support.template="content"in t.document.createElement("template"),r.utils.support.msie=function(){var e=t.navigator.userAgent.toLowerCase(),n=/(msie) ([\w.]+)/.exec(e)||[];return n[1]?n[2]||"0":!1}(),r.utils.support.upgradeelements=Boolean(t.CustomElements&&"function"==typeof t.CustomElements.upgradeAll),r.utils.uid=function(){return Math.floor(268435456*(1+Math.random())+Date.now()).toString(36)},r.utils.seq=function(){var t=0;return function(){return++t}}(),r.utils.type=function(t){if(t===e)return"undefined";if(null===t)return"null";var n=typeof t;if("object"===n&&(n=Object.prototype.toString.call(t).match(r.utils.REG_TYPE_EXTRACT)[1].toLowerCase()),"number"===n){var i=t.toString();n="NaN"===i?"NaN":-1===i.indexOf(".")?"integer":"float"}return n},r.utils.isEmptyObject=function(e){if("object"===r.utils.type(e))for(var n in e)if(t.hasOwnProperty.call(e,n))return!1;return!0},r.utils.isWindow=function(t){return null!==t&&t===t.window},r.utils.isPlainObject=function(t){return"object"!==r.utils.type(t)?!1:t.constructor&&!t.constructor.prototype.hasOwnProperty("isPrototypeOf")?!1:!0},r.utils.pristine=function(e){var n=t[e];if(!e||!n)return!1;if(!r.utils.REG_PRISTINE.test(e))return!1;var i=typeof n;if("function"!==i&&"object"!==i)return!1;var o=new RegExp("function\\s+"+e+"\\(\\s*\\)\\s*{\\s*\\[native code\\]\\s*}");return o.test(n)&&("function"!==i||n.valueOf&&n.valueOf()===n)?!0:!1},r.utils.merge=function(){var t,n,i,o,s,u,a=arguments[0]||{},c=1,l=arguments.length,p=!1,f=r.utils.type(a);for("boolean"===f&&(p=a,a=arguments[c]||{},c++),f=r.utils.type(a),"object"!==f&&"function"!==f&&(a={}),c===l&&(a=this,c--);l>c;c++)if(null!==(t=arguments[c]))for(n in t)i=a[n],o=t[n],a!==o&&(p&&o&&(r.utils.isPlainObject(o)||(s=Array.isArray(o)))?(s?(s=!1,u=i&&Array.isArray(i)?i:[]):u=i&&r.utils.isPlainObject(i)?i:{},a[n]=r.utils.merge(p,u,o)):o!==e&&(a[n]=o));return a},r.utils._lazy=function(){return"function"!=typeof t.setImmediate||r.utils.support.msie?function(e){return t.setTimeout(e,0)}:t.setImmediate}(),r.utils.lazy=function(t,e){return t._args||(t._args=[]),t._args.push(e),t._timer||(t._timer=r.utils._lazy(function(){t._timer=0,t(t._args.splice(0,t._args.length))})),t},r.utils.throttle=function(t,e,n){e=e||250;var r,i;return function(){var o=n||this,s=Date.now(),u=arguments;r&&r+e>s?(clearTimeout(i),i=setTimeout(function(){r=s,t.apply(o,u)},e)):(r=s,t.apply(o,u))}},r.utils.event={},r.utils.CustomEvent=function(){if(r.utils.pristine("CustomEvent"))return t.CustomEvent;var e=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n};return e.prototype=t.Event.prototype,e}(),r.utils.dispatchEvent=function(t,e,n){t.dispatchEvent(new r.utils.CustomEvent(e,n))},r.utils.event.mouseEnterFilter=function(t,e,n){for(var r=e.relatedTarget||e.srcElement;r&&r!==t;)r=r.parentNode;return r!==t?n.call(t,e):void 0},r.utils.event.mouseLeaveFilter=r.utils.event.mouseEnterFilter,r.utils.event.delegate=function(t,e){return function(n){var i,o=n.target||n.srcElement;if(o.tagName){if(r.dom.matchesSelector(o,t))i=o;else if(r.dom.matchesSelector(o,t+" *"))for(var s=o.parentNode;s;){if(r.dom.matchesSelector(s,t)){i=s;break}s=s.parentNode}i&&(n.delegateElement=i,e.call(i,n))}}},r.utils.event._clickWhich={1:"left",2:"center",3:"right"},r.utils.event.click=function(t,e){return t=Array.isArray(t)?t:[t],function(n){if("click"===n.type){var i=n.which;!i&&n.button&&(1&n.button?i=1:4&n.button?i=2:2&n.button&&(i=3)),i=r.utils.event._clickWhich[i],-1!==t.indexOf(i)&&e.call(this,n)}}},r.utils._equal={array:function(t,e){if(t===e)return!0;var n=0,i=t.length;if(i!==e.length)return!1;for(;i>n;n++)if(!r.utils.equals(t[n],e[n]))return!1;return!0},object:function(t,e){if(t===e)return!0;var n;for(n in t){if(!e.hasOwnProperty(n))return!1;if(!r.utils.equals(t[n],e[n]))return!1}for(n in e)if(!t.hasOwnProperty(n))return!1;return!0},date:function(t,e){return t.getTime()===e.getTime()},regexp:function(t,e){return t.toString()===e.toString()},"function":function(t,e){return t.toString()===e.toString()}},r.utils.equals=function(t,e){if(t===e)return!0;var n=r.utils.type(t),i=r.utils.type(e);return n!==i?!1:r.utils._equal.hasOwnProperty(n)?r.utils._equal[n](t,e):t==e},r.utils.filterObject=function(t,e){var n={},r={},i=!1;return Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);e&&e(n,o)&&(r[n]=o,i=!0)}),i&&Object.defineProperties(n,r),n},r.utils.mapObject=function(t,e){var n={},i={},o=!1;return Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n),u=e&&e(n,s);"object"===r.utils.type(u)&&(i[u.name]=u.descr,o=!0)}),o&&Object.defineProperties(n,i),n},r.utils.upgradeElements=function(){return r.utils.support.upgradeelements?t.CustomElements.upgradeAll:function(){}}(),r.utils.contentNode=function(t){var e;return t.xuid&&1===t.nodeType&&t.hasChildNodes()&&(e=t.querySelector('[data-xb-content="'+t.xuid+'"]'),e||(e=t.querySelector('script[type="text/x-template"]:not([ref]),template:not([ref])'))),e||t},r.utils.propTypes=function(t){var e=r.view.get(t);return e?e.propTypes?e.propTypes:e.originalSpec&&e.originalSpec.propTypes?e.originalSpec.propTypes:{}:{}},function(){var t={};r.utils.tmpl=function(e,n){return t.hasOwnProperty(e)||(t[e]=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');")),n?t[e](n):t[e]}}(),r.utils.findReactContainerForID=function(t){return n.__internals.Mount.findReactContainerForID(t)},r.dom={attrs:{ARRTS_BOOLEAN:["active","autofocus","checked","defer","disabled","ismap","multiple","readonly","required","selected","xb-static"],XB_ATTRS:{STATIC:"xb-static"}}},r.dom.attrs.get=function(t,e){if(1!==t.nodeType||!t.hasAttributes())return e;for(var i in e)e.hasOwnProperty(i)&&t.hasAttribute(i)&&(e[i]="boolean"==typeof e[i]?r.dom.attrs.valueConversion(i,t.getAttribute(i),n.PropTypes.bool):t.getAttribute(i));return e},r.dom.attrs.toObject=function(t){var e={};return 1===t.nodeType&&t.hasAttributes()&&Array.prototype.forEach.call(t.attributes,r.dom.attrs._toObjectIterator,e),e},r.dom.attrs._toObjectIterator=function(t){this[t.nodeName]=t.value},r.dom.attrs.valueConversion=function(t,e,i){switch(i||("true"===e||"false"===e||-1!==r.dom.attrs.ARRTS_BOOLEAN.indexOf(t))&&(i=n.PropTypes.bool),i){case n.PropTypes.bool:return e===!0||""===e||t===e||"true"===e;case n.PropTypes.string:return String(e);case n.PropTypes.number:return Number(e);default:return e}},r.dom.attrs.typeConversion=function(t,e){e="object"==typeof e?e:{};for(var n in t)t.hasOwnProperty(n)&&(t[n]=r.dom.attrs.valueConversion(n,t[n],e[n]));return t},r.dom.index=function(e,n,r){return Array.prototype.indexOf.call((r||t.document).querySelectorAll(e),n)},r.dom.isParent=function(){var e=t.document.documentElement;return"compareDocumentPosition"in e?function(t,e){return 16==(16&t.compareDocumentPosition(e))}:"contains"in e?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e=e.parentNode;)if(e===t)return!0;return!1}}(),r.dom.matchesSelector=function(){var t=Element.prototype,e=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||function(t){return-1!==Array.prototype.indexOf.call((this.parentNode||this.ownerDocument).querySelectorAll(t),this)};return function(t,n){return 1===t.nodeType?e.call(t,n):!1}}(),r.tag=t.xtag,r.view={};var i={propTypes:{_uid:n.PropTypes.renderable,children:n.PropTypes.renderable,"xb-static":n.PropTypes.bool},template:function(t,e){var i=r.utils.findReactContainerForID(this._rootNodeID),o=i&&i.xtmpl;return"object"==typeof o&&o.hasOwnProperty(t)?(e=e||{},e.dangerouslySetInnerHTML={__html:this._templatePrepare(o[t])},n.DOM.div(e)):null}},o={_templatePrepare:function(t){return t}};r.view.create=function(t){return t=Array.isArray(t)?t:[t],t.unshift(!0,{},o),t.push(i),n.createClass(r.utils.merge.apply({},t))},r.view.register=function(t,e){if(n.DOM.hasOwnProperty(t))throw'Specified item "'+t+'" is already defined';return n.DOM[t]=r.view.create(e),n.DOM[t]},r.view.get=function(t){return n.DOM[t]};var s={tmplCompile:function(t){this.xtmpl[t.getAttribute("ref")]=t.innerHTML},create:function(t){t.hasChildNodes()&&Array.prototype.forEach.call(t.querySelectorAll('script[type="text/x-template"][ref],template[ref]'),s.tmplCompile,t),t.xblock=r.element.create(t)},createLazy:function(t){t.forEach(s.create)}},u={lifecycle:{created:function(){this.xtagName=this.tagName.toLowerCase(),this.xtmpl={},this.xuid=r.utils.seq(),this.xprops=r.utils.propTypes(this.xtagName),this._inserted=!1},inserted:function(){this._inserted||(this._inserted=!0,this.getElementsByTagName("script").length?r.utils.lazy(s.createLazy,this):s.create(this))},removed:function(){if(this._inserted=!1,this.xblock){var t=this.content;this.xblock.destroy(),this.xblock=e,this.content=t}},attributeChanged:function(t,e,n){t===r.dom.attrs.XB_ATTRS.STATIC&&null===n&&this.xblock&&!this.mounted&&this.xblock._repaint()}},accessors:{mounted:{get:function(){return Boolean(this.xblock&&this.xblock._isMountedComponent())}},content:{get:function(){return this.mounted?this.xblock._component.props.children:r.utils.contentNode(this).innerHTML},set:function(t){this.mounted?this.xblock.update({children:t}):(r.utils.contentNode(this).innerHTML=t,this.upgrade())}},attrs:{get:function(){return r.dom.attrs.toObject(this)}},state:{get:function(){var t={},e=r.tag.tags[this.xtagName].accessors;for(var n in e)this.xprops.hasOwnProperty(n)&&e.hasOwnProperty(n)&&!u.accessors.hasOwnProperty(n)&&(t[n]=this[n]);return t=r.utils.merge({},r.dom.attrs.toObject(this),t),r.dom.attrs.typeConversion(t,this.xprops),t}}},methods:{upgrade:function(){r.utils.upgradeElements(this)},cloneNode:function(t){var e=Node.prototype.cloneNode.call(this,!1);return e.xtmpl=this.xtmpl,e._inserted=!1,t&&(e.content=this.content),e}}};r.create=function(t,e){return e=Array.isArray(e)?e:[e],e.unshift(!0,{}),e.push(u),r.tag.register(t,r.utils.merge.apply({},e))};var a={checkNodeChange:function(t){return"childList"===t.type},checkAttributesChange:function(t){return"attributes"===t.type},filterAttributesRemove:function(t){return"attributes"===t.type&&!this._node.hasAttribute(t.attributeName)},mapAttributesName:function(t){return t.attributeName},globalInitEvent:function(e){r.utils.dispatchEvent(t,"xb-created",{detail:{records:e}})},globalRepaintEvent:function(e){r.utils.dispatchEvent(t,"xb-repaint",{detail:{records:e}})},globalUpdateEvent:function(e){r.utils.dispatchEvent(t,"xb-update",{detail:{records:e}})}};r.element=function(t){t.xblock=this,this._node=t,this._init(t.state,t.content,this._callbackInit)},r.element.create=function(t){return new r.element(t)},r.element.prototype._node=null,r.element.prototype._component=null,r.element.prototype._observer=null,r.element.prototype.destroy=function(){n.unmountComponentAtNode(this._node),this.unmount()},r.element.prototype.unmount=function(){this._observer&&this._observer.disconnect(),this._isMountedComponent()&&(this._component.unmountComponent(),this._component=null)},r.element.prototype.update=function(t,e,n){if(this._isMountedComponent()){var i=this._node.state,o="setProps";if(r.utils.merge(!0,i,t),Array.isArray(e)&&e.length){o="replaceProps";var s=this._getCurrentProps();i=r.utils.merge(!0,s,i),i=r.utils.filterObject(i,function(t){return-1===e.indexOf(t)})}i.hasOwnProperty(r.dom.attrs.XB_ATTRS.STATIC)?this._repaint(n):(r.dom.attrs.typeConversion(i,this._node.xprops),this._component[o](i,this._callbackUpdate.bind(this,n)))}},r.element.prototype._init=function(t,e,i){if(!this._isMountedComponent()){t._uid=this._node.xuid,r.dom.attrs.typeConversion(t,this._node.xprops);var o=r.view.get(this._node.xtagName)(t,e);if(t.hasOwnProperty(r.dom.attrs.XB_ATTRS.STATIC))this.unmount(),this._node.innerHTML=n.renderComponentToStaticMarkup(o),this._node.upgrade(),i&&i.call(this);else{var s=this;this._component=n.renderComponent(o,this._node,function(){s._component=this,s._callbackRender(i)})}}},r.element.prototype._repaint=function(t){var e=r.utils.merge(!0,this._node.state,this._getCurrentProps()),n=this._node.content;this.destroy(),this._init(e,n,this._callbackRepaint.bind(this,t))},r.element.prototype._callbackInit=function(){r.utils.dispatchEvent(this._node,"xb-created"),r.utils.lazy(a.globalInitEvent,this._node)},r.element.prototype._callbackRepaint=function(t){r.utils.dispatchEvent(this._node,"xb-repaint"),r.utils.lazy(a.globalRepaintEvent,this._node),t&&t.call(this)},r.element.prototype._callbackRender=function(e){this._node.upgrade(),this._observer||(this._observer=new t.MutationObserver(this._callbackMutation.bind(this))),this._observer.observe(this._node,{attributes:!0,childList:!0,characterData:!0,subtree:!1,attributeOldValue:!1,characterDataOldValue:!1,attributeFilter:Object.keys(this._node.xprops)}),e&&e.call(this)},r.element.prototype._callbackMutation=function(t){if(this._isMountedComponent())if(t.some(a.checkNodeChange))this._repaint();else if(t.some(a.checkAttributesChange)){var e=t.filter(a.filterAttributesRemove,this).map(a.mapAttributesName);this.update(null,e)}},r.element.prototype._callbackUpdate=function(t){this._node.upgrade(),r.utils.dispatchEvent(this._node,"xb-update"),r.utils.lazy(a.globalUpdateEvent,this._node),t&&t.call(this)},r.element.prototype._isMountedComponent=function(){return Boolean(this._component&&this._component.isMounted())},r.element.prototype._getCurrentProps=function(){return this._isMountedComponent()?this._component.props:null}}(function(){return this||(1,eval)("this")}());